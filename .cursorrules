# **Key Principles**

## **Code Quality & Style**

- √âcrire du code **concis, maintenable** et **tr√®s fortement typ√©** en **TypeScript**.
- Adopter une approche **fonctionnelle et d√©clarative**, √©viter la **POO et les classes**.
- Limiter les fichiers √† **150 lignes max**, refactoriser en modules plus petits si n√©cessaire.
- **It√©rer et modulariser** au lieu de dupliquer le code.
- Utiliser des **noms de variables descriptifs et s√©mantiques**, avec des verbes auxiliaires (`isLoading`, `hasError`).
- Nommer les **fichiers et dossiers** en **minuscules avec des tirets** (`components/user-stats`).
- Privil√©gier les **exports nomm√©s** pour les composants.
- Appliquer la r√®gle **RORO (Receive an Object, Return an Object)** pour les param√®tres et retours de fonctions.
- Respecter la r√®gle **DRY (Don't Repeat Yourself)** en permanence.
- **Faire des revues de code r√©guli√®res** et organiser des sessions de **refactoring**.
- Optimiser les **Web Vitals** (`LCP`, `CLS`, `FID`) pour des **performances optimales**.

---

## **Gestion des Build Notes**

### **Emplacement & Nom des Fichiers**

- **Dossier d√©di√© :** `/ProjectDocs/Build_Notes/`
- **Convention de nommage :**

  ```
  build-title_phase-#_task-group-name.md
  ```

  - `<build-title>` : d√©crit la t√¢che principale du build.
  - `<phase-#>` : indique le num√©ro de phase.
  - `<task-group-name>` : nom du groupe de t√¢ches.

- **Exemple :**
  ```
  supabase-schema-standardization_phase-1_preparation-and-code-analysis.md
  ```

### **Structure du Contenu**

1. **Task Objective** ‚Üí Objectif principal du build.
2. **Current State Assessment** ‚Üí √âtat actuel du projet.
3. **Future State Goal** ‚Üí √âtat souhait√© apr√®s le build.
4. **Implementation Plan** :
   - Liste num√©rot√©e avec des t√¢ches √† cocher ‚úÖ.
   - **Ne jamais supprimer** une t√¢che obsol√®te ‚Üí **la barrer**.
   - Ajouter des **nouvelles t√¢ches** si n√©cessaire.
5. **Updates & Changes** :
   - Noter chaque **changement majeur** ou difficult√© rencontr√©e.
   - Compl√©ter au fur et √† mesure **jusqu‚Äô√† la finalisation**.

### **Quand Mettre √† Jour ?**

- **Avant de commencer** : d√©finir l‚Äôobjectif et le plan initial.
- **Pendant l‚Äôex√©cution** : noter les obstacles et mises √† jour.
- **√Ä la fin** : r√©sumer ce qui a √©t√© fait et v√©rifier la conformit√© avec l‚Äôobjectif initial.

### **Archivage des Build Notes**

- **Une fois termin√©** : d√©placer dans `/ProjectDocs/Build_Notes/completed/`
- **Si obsol√®te** : archiver dans `/ProjectDocs/Build_Notes/archived/`

---

## **Gestion des Context Files**

### **`projectContext.md` (Contexte Principal)**

- Situ√© dans `/ProjectDocs/contexts/`
- D√©finit la **port√©e du projet**, les exigences et les principes de conception.
- **Ne pas modifier**, sauf en cas de **changement majeur valid√©**.

### **Context Files Suppl√©mentaires**

- Exemples : `uiContext.md`, `featureAContext.md`
- Contiennent des **sp√©cifications d√©taill√©es** sur certaines fonctionnalit√©s.
- **Stables**, modifiables uniquement si un **changement officiel** est approuv√©.
- **Doivent √™tre consult√©s r√©guli√®rement** pour assurer la coh√©rence du d√©veloppement.

### **Gestion des Modifications**

- **Chaque mise √† jour** des context files doit √™tre **document√©e dans les Build Notes**.
- Expliquer le **raisonnement derri√®re chaque modification** pour garder une trace claire.

---

## **Stack & Framework Conventions**

### **Next.js 15+**

- Exploiter **App Router, React Server Components (RSC), SSR**.
- **Limiter l'utilisation de `use client`**, privil√©gier le serveur.
- Adopter une approche **mobile-first & responsive**.
- Structurer l'application comme une **PWA (Progressive Web App)** avec **capacit√©s hors-ligne**.

### **Gestion de l'√âtat & UI**

- **Zustand** ‚Üí gestion d‚Äô√©tat **c√¥t√© client**.
- **ShadCN UI** ‚Üí installation et gestion :

  ```sh
  npx shadcn@latest init -d
  npx shadcn@latest add {component}
  ```

  shadcn@latest pas shadcn-ui@latest

- **TailwindCSS** ‚Üí framework CSS principal.

### **Base de Donn√©es & Authentification**

- **Supabase** ‚Üí base de donn√©es.
- **Clerk** ‚Üí gestionnaire d‚Äôauthentification.
- Utiliser **RLS (Row Level Security)** pour la gestion des permissions.
- Structurer les **donn√©es pour optimiser** les requ√™tes et √©viter les duplications.

### **Monorepo & Outils**

- **Structure Monorepo** :
  - Code partag√© ‚Üí `/packages/`
  - Code sp√©cifique ‚Üí `/app/`
- Automatiser avec **`Taskfile.yml`**.
- Stocker les **variables d‚Äôenvironnement dans `.env`**.
- Utiliser **`pnpm`** comme gestionnaire de paquets.

---

## **Rules pour les Commits Fr√©quents et Bien Faits** üöÄ

Un bon commit, c‚Äôest :  
‚úÖ **Clair** ‚Üí D√©crit pr√©cis√©ment la modification.  
‚úÖ **Petit** ‚Üí Modifie un seul aspect du code.  
‚úÖ **Atomique** ‚Üí Peut √™tre rollback sans souci.

### **R√®gles G√©n√©rales**

1. **Commits fr√©quents**
2. **Messages clairs et concis** (pas de _"fix bug"_, _"update"_)
3. **Convention des commits** :
   - `feat:` ‚Üí Nouvelle feature
   - `fix:` ‚Üí Correction de bug
   - `refactor:` ‚Üí Am√©lioration du code sans changement fonctionnel
   - `chore:` ‚Üí Maintenance (mise √† jour deps, nettoyage, etc.)
   - `test:` ‚Üí Ajout/modif de tests
   - `docs:` ‚Üí Mise √† jour de la documentation
   - `style:` ‚Üí Formatage, indentation

### **Gestion des Branches**

- `main` ‚Üí Stable, pas de commit direct.
- `dev` ‚Üí Branche de d√©veloppement.

### **Quand Commiter ?**

- A la fin d'une grosse modification.
- A la fin d'une petite t√¢che de la roadmap.
- Quand on a fini une feature.
- Quand on a fini une refactorisation.
- Quand on a fini une correction de bug.
- Quand on a fini une mise √† jour de la documentation.
- Quand on a fini une mise √† jour de la configuration.

Respectes ses r√®gles sans les changer sous aucun pr√©texte.
